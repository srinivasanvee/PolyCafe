<link rel="import" href="../../bower_components/polymer/polymer.html">

<dom-module id="pc-dropdown">
  <template>
    <paper-dropdown-menu label="{{label}}"> 
      <paper-menu id="ccdropdown" class="dropdown-content" selected="{{value}}" attr-for-selected="key">
        <template is="dom-repeat" items="{{data}}">
            <paper-item key="{{GetValueKey(item)}}">{{GetDisplayText(item)}}</paper-item>
		    </template>
      </paper-menu>
    </paper-dropdown-menu>
  </template>
  
  <script> 
    (function() {
      'use strict';
      Polymer({
        is: 'pc-dropdown',
          properties: {
              value: {
                type: String,
                notify: true
              },
              data: {},
              label: {},
              displayKey: {}, 
              valueKey: {},
              appendKey: { value: false }
          },
          PrintMe: function(val) {
            console.log(val);
          },
          GetValueKey: function(obj)
          {
            return obj[this.valueKey];
          },
          SetInitValue: function(val)
          {
            console.log(val);
          }, 
          GetDisplayText: function(obj) 
          {
            var text = obj[this.displayKey];
            if(this.appendKey)
            {
              text = text + ' (' + obj[this.valueKey] + ')';
            }
            return text;
          }
      });
    })();
  </script>
</dom-module>