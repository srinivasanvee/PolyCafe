<dom-module id="pc-data">

  <template>
    <firebase-collection location="{{userLocation}}"
                         data="{{data}}"
                         on-firebase-value="_firebaseLoaded">
    </firebase-collection>
  </template>
  <script> 
    Polymer({
      is: 'pc-data',
      properties: {
        data: {
          notify: true,
          value: []
        },
        user: {
          observer: '_userChanged'
        },
        location: {
          value: 'https://polycafe.firebaseio.com'
        },
        table: {}
      },
      _userChanged: function(user) {
        if (user) {
          this.userLocation = [this.location, 'users', this.user.uid, this.table].join('/');
        } 
      },
      _firebaseLoaded: function() {
        console.log('firebase control data !');
        console.log(this.data);
      }
    }); 
  </script>
</dom-module>